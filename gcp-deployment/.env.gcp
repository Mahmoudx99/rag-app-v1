# ====================================
# GCP Configuration for RAG Application
# ====================================

# GCP Project Settings
GCP_PROJECT_ID=anb-gpt-prj
GCP_REGION=me-central2
ARTIFACT_REGISTRY=me-central2-docker.pkg.dev/anb-gpt-prj/cloud-run-source-deploy

# Service Names
BACKEND_SERVICE_NAME=rag-backend
LLM_SERVICE_NAME=rag-llm
FRONTEND_SERVICE_NAME=rag-frontend
CLOUD_FUNCTION_NAME=rag-pdf-processor

# Database Configuration (SQLite stored in Cloud Storage)
# SQLite database file will be stored in Cloud Storage bucket
# Backend will download/upload the DB file on startup/shutdown
DATABASE_URL=sqlite:///./data/rag_app.db
SQLITE_BACKUP_BUCKET=gs://anb-rag-documents/database/
# Note: For production, consider upgrading to Cloud SQL later

# Cloud Storage (Universal document storage)
STORAGE_BUCKET_NAME=anb-rag-documents
WATCH_DIR=gs://anb-rag-documents/watch
# Note: watch/ is the universal location for all documents

# Vertex AI Vector Search
VERTEX_AI_INDEX_ENDPOINT_ID=projects/687800931209/locations/me-central2/indexEndpoints/2982368115737755648
VERTEX_AI_DEPLOYED_INDEX_ID=rag_embeddings_index_strea_1763631787972
VERTEX_AI_INDEX_ID=projects/687800931209/locations/me-central2/indexes/5538301641758867456

# Embeddings Configuration
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
BATCH_SIZE=32

# PDF Processing
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
CHUNK_STRATEGY=paragraph
MAX_UPLOAD_SIZE=52428800

# LLM Configuration (Gemini)
LLM_PROVIDER=gemini
LLM_MODEL=gemini-2.0-flash
LLM_MAX_TOKENS=4096
LLM_TEMPERATURE=0.7

# Secret Manager Secret Names
SECRET_POSTGRES_PASSWORD=postgres-password
SECRET_GEMINI_API_KEY=gemini-api-key

# Cloud Run Configuration
BACKEND_CPU=2
BACKEND_MEMORY=4Gi
BACKEND_MIN_INSTANCES=0
BACKEND_MAX_INSTANCES=10

LLM_CPU=2
LLM_MEMORY=2Gi
LLM_MIN_INSTANCES=0
LLM_MAX_INSTANCES=5

FRONTEND_CPU=1
FRONTEND_MEMORY=512Mi
FRONTEND_MIN_INSTANCES=0
FRONTEND_MAX_INSTANCES=5

# CORS Origins (will be updated after deployment)
BACKEND_CORS_ORIGINS=["https://rag-frontend-XXXXX-uc.a.run.app","http://localhost:3000"]

# Frontend API URL (will be updated after backend deployment)
REACT_APP_API_URL=https://rag-backend-XXXXX-uc.a.run.app/api/v1
